<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns="http://www.w3.org/1999/html"
      layout:decorate="~{layout/default}">

<head>
    <title>update</title>
</head>

<body id="page-top">
    <main layout:fragment="main">
        <!-- Begin Page Content -->
        <div class="container-fluid">
            <!-- DataTales Example -->
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">ÌôòÎ∂à Í¥ÄÎ¶¨</h6>
                </div>
                <div class="card shadow">
                    <div class="card-body">
                        <form id="updateForm" th:action="@{/refund/update}" method="post" th:object="${refundDetailList}">
                            <input type="hidden" name="refundId" th:value="*{refundId}">
                            <input type="hidden" name="orderId" th:value="*{orderId}">
                            <div class="row">
                                <div class="col-md-6">
                                    <p><strong>Ï£ºÎ¨∏ Î≤àÌò∏:</strong> <span th:text="*{orderId}"></span></p>
                                    <p><strong>Ïã†Ï≤≠Ïùº:</strong> <span th:text="*{#temporals.format(applicationDate, 'yyyy-MM-dd')}"></span></p>
                                    <p><strong>ÌôòÎ∂à Ïó¨Î∂Ä:</strong>
                                        <select name="refundYn" th:value="*{refundYn}">
                                            <th:block th:if="*{refundYn == 'ÌôïÏ†ï'}">
                                                <option value="ÌôïÏ†ï" selected>ÌôïÏ†ï</option>
                                                <option value="Î∞òÎ†§">Î∞òÎ†§</option>
                                            </th:block>
                                            <th:block th:if="*{refundYn == 'Î∞òÎ†§'}">
                                                <option value="ÌôïÏ†ï">ÌôïÏ†ï</option>
                                                <option value="Î∞òÎ†§" selected>Î∞òÎ†§</option>
                                            </th:block>
                                            <th:block th:unless="*{refundYn}">
                                                <option value="" selected disabled>ÎØ∏Ï†ï</option>
                                                <option value="ÌôïÏ†ï">ÌôïÏ†ï</option>
                                                <option value="Î∞òÎ†§">Î∞òÎ†§</option>
                                            </th:block>
                                        </select>
                                    </p>
                                    <p><strong>ÌôòÎ∂à Ï≤òÎ¶¨ ÏÉÅÌÉú:</strong>
                                        <select name="processStatus" th:value="*{processStatus}">
                                            <th:block th:if="*{processStatus == 'Ï≤òÎ¶¨ÎåÄÍ∏∞'}">
                                                <option value="Ï≤òÎ¶¨ÎåÄÍ∏∞" selected>Ï≤òÎ¶¨ÎåÄÍ∏∞</option>
                                                <option value="Ï≤òÎ¶¨Ï§ë">Ï≤òÎ¶¨Ï§ë</option>
                                                <option value="Ï≤òÎ¶¨ÏôÑÎ£å">Ï≤òÎ¶¨ÏôÑÎ£å</option>
                                            </th:block>
                                            <th:block th:if="*{processStatus == 'Ï≤òÎ¶¨Ï§ë'}">
                                                <option value="Ï≤òÎ¶¨ÎåÄÍ∏∞">Ï≤òÎ¶¨ÎåÄÍ∏∞</option>
                                                <option value="Ï≤òÎ¶¨Ï§ë" selected>Ï≤òÎ¶¨Ï§ë</option>
                                                <option value="Ï≤òÎ¶¨ÏôÑÎ£å">Ï≤òÎ¶¨ÏôÑÎ£å</option>
                                            </th:block>
                                        </select>
                                    </p>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12">
                                    <h5 class="mb-3">ÏÑ§Î™Ö</h5>
                                    <p><strong>ÏÇ¨Ïú†:</strong> <span th:text="*{refundReasonType}"></span></p>
                                    <label for="refund-reason-detail"><strong>ÏÉÅÏÑ∏ ÎÇ¥Ïö©</strong></label>
                                    <br>
                                    <textarea
                                        style="
                                            border: 1px solid #000;
                                            width: 300px; height: 150px;
                                            resize: none;"
                                        th:text="*{refundReasonDetail}"
                                        readonly
                                        id="refund-reason-detail"
                                    ></textarea>
                                </div>
                            </div>
                            <div class="btn-group-custom">
                                <input class="btn btn-primary" type="submit" value="ÏàòÏ†ï">
                                <a class="btn btn-secondary" th:onclick="|location.href='@{/refund/refundDetailList/{refundId}(refundId=*{refundId})}';|">Ï∑®ÏÜå</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script layout:fragment="js">
        $(document).ready(function(){
            $("#sideRefund").addClass("active");
        });

        $('#updateForm').submit(function(event){
            const refundYnValue = $('select[name="refundYn"]').val();

            if (refundYnValue == null) {
                alert("üêïÌôòÎ∂à Ïó¨Î∂ÄÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöîüêæ");
                event.preventDefault();
            }
        });

    </script>
</body>
</html>